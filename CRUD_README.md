# CRUD Operations Documentation

## ตารางที่เสร็จแล้ว ✅

### Batch 1
- `tb_activity.ts` - กิจกรรมต่างๆ
- `tb_application_config.ts` - การตั้งค่าแอปพลิเคชัน
- `tb_application_user_config.ts` - การตั้งค่าผู้ใช้แอปพลิเคชัน
- `tb_attachment.ts` - ไฟล์แนบ

### Batch 2
- `tb_application_role_tb_permission.ts` - สิทธิ์ของบทบาทแอปพลิเคชัน
- `tb_config_running_code.ts` - การตั้งค่ารหัสที่ใช้
- `tb_count_stock.ts` - การนับสต็อก
- `tb_count_stock_detail.ts` - รายละเอียดการนับสต็อก
- `tb_credit_note.ts` - ใบลดหนี้
- `tb_credit_note_detail.ts` - รายละเอียดใบลดหนี้
- `tb_credit_note_reason.ts` - เหตุผลใบลดหนี้
- `tb_credit_term.ts` - เงื่อนไขการชำระเงิน

### Batch 3
- `tb_currency.ts` - สกุลเงิน
- `tb_currency_comment.ts` - ความคิดเห็นเกี่ยวกับสกุลเงิน
- `tb_delivery_point.ts` - จุดส่งมอบ
- `tb_department.ts` - แผนก
- `tb_department_user.ts` - ผู้ใช้ในแผนก
- `tb_dimension.ts` - มิติ
- `tb_dimension_display_in.ts` - การแสดงผลมิติ

### Batch 4
- `tb_exchange_rate.ts` - อัตราแลกเปลี่ยน
- `tb_extra_cost.ts` - ต้นทุนเพิ่มเติม
- `tb_extra_cost_detail.ts` - รายละเอียดต้นทุนเพิ่มเติม
- `tb_extra_cost_type.ts` - ประเภทต้นทุนเพิ่มเติม
- `tb_good_received_note.ts` - ใบรับสินค้า
- `tb_good_received_note_detail.ts` - รายละเอียดใบรับสินค้า
- `tb_inventory_transaction.ts` - ธุรกรรมสินค้าคงคลัง
- `tb_inventory_transaction_closing_balance.ts` - ยอดปิดบัญชีธุรกรรมสินค้าคงคลัง
- `tb_inventory_transaction_detail.ts` - รายละเอียดธุรกรรมสินค้าคงคลัง

### Batch 5
- `tb_jv_detail.ts` - รายละเอียดรายการบันทึกบัญชี
- `tb_jv_header.ts` - หัวรายการบันทึกบัญชี
- `tb_location.ts` - สถานที่
- `tb_menu.ts` - เมนู
- `tb_pricelist.ts` - รายการราคา
- `tb_pricelist_detail.ts` - รายละเอียดรายการราคา
- `tb_pricelist_template.ts` - เทมเพลตรายการราคา
- `tb_pricelist_template_detail.ts` - รายละเอียดเทมเพลตรายการราคา

### Batch 6
- `tb_product.ts` - สินค้า
- `tb_product_category.ts` - หมวดหมู่สินค้า
- `tb_product_item_group.ts` - กลุ่มรายการสินค้า
- `tb_product_location.ts` - สถานที่สินค้า
- `tb_product_sub_category.ts` - หมวดหมู่ย่อยสินค้า
- `tb_product_tb_vendor.ts` - ผู้จัดจำหน่ายสินค้า

### Batch 7
- `tb_purchase_order.ts` - ใบสั่งซื้อ
- `tb_purchase_order_detail.ts` - รายละเอียดใบสั่งซื้อ
- `tb_purchase_order_detail_tb_purchase_request_detail.ts` - รายละเอียดใบสั่งซื้อและใบขอซื้อ
- `tb_purchase_request.ts` - ใบขอซื้อ
- `tb_purchase_request_detail.ts` - รายละเอียดใบขอซื้อ
- `tb_purchase_request_template.ts` - เทมเพลตใบขอซื้อ
- `tb_purchase_request_template_detail.ts` - รายละเอียดเทมเพลตใบขอซื้อ
- `tb_request_for_pricing.ts` - ใบขอราคา
- `tb_request_for_pricing_detail.ts` - รายละเอียดใบขอราคา

### Batch 8
- `tb_stock_in.ts` - การรับสินค้าเข้าคลัง
- `tb_stock_in_detail.ts` - รายละเอียดการรับสินค้าเข้าคลัง
- `tb_stock_out.ts` - การเบิกสินค้าออกจากคลัง
- `tb_stock_out_detail.ts` - รายละเอียดการเบิกสินค้าออกจากคลัง
- `tb_stock_take.ts` - การตรวจนับสินค้าคงคลัง
- `tb_stock_take_detail.ts` - รายละเอียดการตรวจนับสินค้าคงคลัง
- `tb_store_requisition.ts` - ใบเบิกสินค้า
- `tb_store_requisition_detail.ts` - รายละเอียดใบเบิกสินค้า

### Batch 9
- `tb_unit.ts` - หน่วยนับ
- `tb_unit_comment.ts` - ความคิดเห็นเกี่ยวกับหน่วยนับ
- `tb_unit_conversion.ts` - การแปลงหน่วยนับ
- `tb_user_location.ts` - สถานที่ของผู้ใช้
- `tb_user_profile.ts` - ข้อมูลโปรไฟล์ผู้ใช้
- `tb_vendor.ts` - ผู้จัดจำหน่าย
- `tb_vendor_address.ts` - ที่อยู่ผู้จัดจำหน่าย
- `tb_vendor_business_type.ts` - ประเภทธุรกิจผู้จัดจำหน่าย
- `tb_vendor_contact.ts` - ข้อมูลติดต่อผู้จัดจำหน่าย
- `tb_workflow.ts` - เวิร์กโฟลว์

## ฟีเจอร์พิเศษ ✨

### 1. Soft Delete & Restore
- ทุกตารางรองรับ soft delete (mark as deleted)
- ฟังก์ชัน restore สำหรับกู้คืนข้อมูลที่ถูกลบ
- ฟังก์ชัน hard delete สำหรับลบข้อมูลถาวร

### 2. Advanced Search
- ค้นหาตามเงื่อนไขหลายตัว
- รองรับ partial matching
- ฟิลเตอร์ตามสถานะ (active/inactive)

### 3. Bulk Operations
- เพิ่ม/ลบข้อมูลหลายรายการพร้อมกัน
- ลบข้อมูลตามเงื่อนไข (เช่น ลบตาม parent ID)

### 4. Utility Functions
- นับจำนวนข้อมูล
- ตรวจสอบการมีอยู่ของข้อมูล
- ล้างข้อมูลทั้งหมด (สำหรับ testing)

### 5. Special Features
- **Running Code Generation** (`tb_config_running_code.ts`)
- **Sequence Management** (`tb_count_stock_detail.ts`, `tb_credit_note_detail.ts`, `tb_extra_cost_detail.ts`, `tb_good_received_note_detail.ts`, `tb_pricelist_detail.ts`, `tb_pricelist_template_detail.ts`, `tb_jv_detail.ts`, `tb_stock_in_detail.ts`, `tb_stock_out_detail.ts`, `tb_stock_take_detail.ts`, `tb_store_requisition_detail.ts`)
- **Calculation Functions** (`tb_credit_note_detail.ts`, `tb_inventory_transaction_closing_balance.ts`, `tb_inventory_transaction_detail.ts`, `tb_pricelist_detail.ts`, `tb_jv_detail.ts`)
- **HOD Management** (`tb_department_user.ts`)
- **Dimension Display Configuration** (`tb_dimension_display_in.ts`)
- **Exchange Rate Management** (`tb_exchange_rate.ts`)
- **Extra Cost Allocation** (`tb_extra_cost.ts`, `tb_extra_cost_detail.ts`, `tb_extra_cost_type.ts`)
- **Good Received Note Workflow** (`tb_good_received_note.ts`, `tb_good_received_note_detail.ts`)
- **Inventory Transaction Tracking** (`tb_inventory_transaction.ts`, `tb_inventory_transaction_closing_balance.ts`, `tb_inventory_transaction_detail.ts`)
- **Stock Movement Management** (`tb_stock_in.ts`, `tb_stock_in_detail.ts`, `tb_stock_out.ts`, `tb_stock_out_detail.ts`)
- **Stock Take Operations** (`tb_stock_take.ts`, `tb_stock_take_detail.ts`)
- **Store Requisition Workflow** (`tb_store_requisition.ts`, `tb_store_requisition_detail.ts`)
- **Unit Management & Conversion** (`tb_unit.ts`, `tb_unit_comment.ts`, `tb_unit_conversion.ts`)
- **User Location Tracking** (`tb_user_location.ts`)
- **User Profile Management** (`tb_user_profile.ts`)
- **Vendor Management System** (`tb_vendor.ts`, `tb_vendor_address.ts`, `tb_vendor_business_type.ts`, `tb_vendor_contact.ts`)
- **Workflow Management** (`tb_workflow.ts`)
- **Journal Voucher Management** (`tb_jv_header.ts`, `tb_jv_detail.ts`)
- **Pricelist Management** (`tb_pricelist.ts`, `tb_pricelist_detail.ts`)
- **Pricelist Template System** (`tb_pricelist_template.ts`, `tb_pricelist_template_detail.ts`)
- **Location & Menu Management** (`tb_location.ts`, `tb_menu.ts`)
- **Product Management System** (`tb_product.ts`, `tb_product_category.ts`, `tb_product_item_group.ts`, `tb_product_sub_category.ts`)
- **Product Location Management** (`tb_product_location.ts`)
- **Product Vendor Management** (`tb_product_tb_vendor.ts`)
- **Purchase Order Management** (`tb_purchase_order.ts`, `tb_purchase_order_detail.ts`)
- **Purchase Request System** (`tb_purchase_request.ts`, `tb_purchase_request_detail.ts`)
- **Purchase Request Templates** (`tb_purchase_request_template.ts`, `tb_purchase_request_template_detail.ts`)
- **Request for Pricing System** (`tb_request_for_pricing.ts`, `tb_request_for_pricing_detail.ts`)
- **Purchase Order Integration** (`tb_purchase_order_detail_tb_purchase_request_detail.ts`)

## ตัวอย่างการใช้งาน

### การใช้งานพื้นฐาน

```typescript
import { 
  getAllCurrencies, 
  createCurrency, 
  updateCurrency, 
  deleteCurrency,
  restoreCurrency 
} from './mockdata';

// สร้างสกุลเงินใหม่
const newCurrency = createCurrency({
  code: "EUR",
  name: "Euro",
  symbol: "€",
  description: "European Euro",
  decimal_places: 2,
  is_active: true,
  exchange_rate: "0.85",
  exchange_rate_at: null,
  note: null,
  info: null,
  dimension: null,
  created_by_id: "user123"
});

// อ่านข้อมูลทั้งหมด
const allCurrencies = getAllCurrencies();

// อัปเดตข้อมูล
const updatedCurrency = updateCurrency(newCurrency.id, {
  exchange_rate: "0.87",
  note: "Updated exchange rate"
});

// ลบข้อมูล (soft delete)
deleteCurrency(newCurrency.id, "user123");

// กู้คืนข้อมูล
restoreCurrency(newCurrency.id);
```

### การใช้งาน Department User

```typescript
import { 
  getAllDepartmentUsers,
  createDepartmentUser,
  getDepartmentUsersByDepartmentId,
  updateDepartmentUserHodStatus,
  getHodDepartmentUserCount
} from './mockdata';

// สร้างผู้ใช้ในแผนกใหม่
const newDeptUser = createDepartmentUser({
  user_id: "user456",
  department_id: "dept789",
  is_hod: false,
  note: "New team member",
  info: null,
  dimension: null,
  doc_version: "1.0",
  created_by_id: "admin123"
});

// ดูผู้ใช้ทั้งหมดในแผนก
const deptUsers = getDepartmentUsersByDepartmentId("dept789");

// แต่งตั้งเป็นหัวหน้าแผนก
updateDepartmentUserHodStatus(newDeptUser.id, true);

// นับจำนวนหัวหน้าแผนก
const hodCount = getHodDepartmentUserCount();
```

### การใช้งาน Dimension Display

```typescript
import { 
  getAllDimensionDisplayIns,
  createDimensionDisplayIn,
  getDimensionDisplayInsByDisplayIn,
  updateDimensionDisplayInDefaultValue
} from './mockdata';

// สร้างการแสดงผลมิติใหม่
const newDimensionDisplay = createDimensionDisplayIn({
  dimension_id: "dim123",
  display_in: "product",
  default_value: "0",
  note: "Default product dimension",
  info: { unit: "cm", min: 0, max: 1000 },
  doc_version: "1.0",
  created_by_id: "admin123"
});

// ดูการแสดงผลมิติในผลิตภัณฑ์
const productDimensions = getDimensionDisplayInsByDisplayIn("product");

// อัปเดตค่าเริ่มต้น
updateDimensionDisplayInDefaultValue(newDimensionDisplay.id, "10");
```

### การใช้งาน Delivery Point

```typescript
import { 
  getAllDeliveryPoints,
  createDeliveryPoint,
  getDeliveryPointsByCity,
  updateDeliveryPointAddress
} from './mockdata';

// สร้างจุดส่งมอบใหม่
const newDeliveryPoint = createDeliveryPoint({
  name: "Chonburi Warehouse",
  is_active: true,
  note: "Eastern region warehouse",
  info: { 
    address: "123 Chonburi Road, Chonburi 20000",
    contact_person: "Somchai",
    phone: "+66-38-123-4567",
    email: "chonburi@company.com"
  },
  dimension: null,
  created_by_id: "admin123"
});

// ดูจุดส่งมอบในเมือง
const chonburiPoints = getDeliveryPointsByCity("Chonburi");

// อัปเดตที่อยู่
updateDeliveryPointAddress(newDeliveryPoint.id, "456 New Chonburi Road, Chonburi 20000");
```

## การใช้งาน Advanced Search

```typescript
import { searchCurrencies, searchDepartmentUsers } from './mockdata';

// ค้นหาสกุลเงินแบบ advanced
const searchResults = searchCurrencies({
  code: "THB",
  is_active: true,
  has_exchange_rate: true
});

// ค้นหาผู้ใช้ในแผนกแบบ advanced
const userSearchResults = searchDepartmentUsers({
  department_id: "dept123",
  is_hod: true,
  has_note: true
});
```

## การใช้งาน Bulk Operations

```typescript
import { 
  addMultipleDepartmentUsers,
  removeMultipleDepartmentUsersByDepartmentId 
} from './mockdata';

// เพิ่มผู้ใช้หลายคนในแผนก
const newUsers = addMultipleDepartmentUsers([
  {
    user_id: "user1",
    department_id: "dept123",
    is_hod: false,
    note: "Team member 1",
    info: null,
    dimension: null,
    doc_version: "1.0",
    created_by_id: "admin123"
  },
  {
    user_id: "user2",
    department_id: "dept123",
    is_hod: false,
    note: "Team member 2",
    info: null,
    dimension: null,
    doc_version: "1.0",
    created_by_id: "admin123"
  }
]);

// ลบผู้ใช้ทั้งหมดในแผนก
const deletedCount = removeMultipleDepartmentUsersByDepartmentId("dept123", "admin123");
```

### การใช้งาน Exchange Rate

```typescript
import { 
  createExchangeRate,
  getExchangeRateByCurrencyPair,
  updateExchangeRateRate,
  searchExchangeRates
} from './mockdata';

// สร้างอัตราแลกเปลี่ยนใหม่
const newExchangeRate = createExchangeRate({
  at_date: "2024-01-20",
  currency_id: "USD",
  currency_code: "USD",
  currency_name: "US Dollar",
  exchange_rate: "35.75",
  note: "Updated USD to THB rate",
  info: { from_currency: "USD", to_currency: "THB" },
  dimension: null,
  created_by_id: "user123"
});

// ค้นหาอัตราแลกเปลี่ยนตามสกุลเงิน
const usdRate = getExchangeRateByCurrencyPair("USD", "THB");

// อัปเดตอัตราแลกเปลี่ยน
updateExchangeRateRate("rate-123", 35.80);

// ค้นหาอัตราแลกเปลี่ยนที่ active
const activeRates = searchExchangeRates({ is_active: true });
```

### การใช้งาน Extra Cost

```typescript
import { 
  createExtraCost,
  getExtraCostsByType,
  updateExtraCostAmount,
  searchExtraCosts
} from './mockdata';

// สร้างต้นทุนเพิ่มเติมใหม่
const newExtraCost = createExtraCost({
  name: "Customs Duty",
  good_received_note_id: "grn-123",
  allocate_extra_cost_type: "by_value",
  description: "Import customs duty",
  note: "Standard customs charge",
  info: { type: "customs", amount: 200.00 },
  doc_version: "1.0",
  created_by_id: "user123"
});

// ดูต้นทุนเพิ่มเติมตามประเภท
const shippingCosts = getExtraCostsByType("shipping");

// อัปเดตจำนวนเงิน
updateExtraCostAmount("cost-123", 250.00);

// ค้นหาต้นทุนเพิ่มเติมที่มี note
const costsWithNote = searchExtraCosts({ has_note: true });
```

### การใช้งาน Good Received Note

```typescript
import { 
  createGoodReceivedNote,
  getGoodReceivedNotesByVendor,
  updateGoodReceivedNoteStatus,
  searchGoodReceivedNotes
} from './mockdata';

// สร้างใบรับสินค้าใหม่
const newGrn = createGoodReceivedNote({
  grn_no: "GRN-2024-006",
  grn_date: "2024-01-20",
  invoice_no: "INV-2024-006",
  invoice_date: "2024-01-20",
  description: "Office supplies delivery",
  doc_status: "draft",
  doc_type: "purchase",
  vendor_id: "vendor-123",
  vendor_name: "Office Supplies Co.",
  currency_id: "THB",
  currency_name: "Thai Baht",
  currency_rate: "1.00",
  workflow_id: "workflow-123",
  workflow_name: "Standard GRN Workflow",
  workflow_history: { stages: ["draft"] },
  workflow_current_stage: "draft",
  workflow_previous_stage: null,
  workflow_next_stage: "submitted",
  user_action: { action: "create", timestamp: "2024-01-20T10:30:00Z" },
  last_action: "create",
  last_action_at_date: "2024-01-20T10:30:00Z",
  last_action_by_id: "user-123",
  last_action_by_name: "John Doe",
  is_consignment: false,
  is_cash: false,
  signature_image_url: "/signatures/grn-006.jpg",
  received_by_id: "user-123",
  received_by_name: "John Doe",
  received_at: "2024-01-20T10:30:00Z",
  credit_term_id: "term-123",
  credit_term_name: "Net 30",
  credit_term_days: 30,
  payment_due_date: "2024-02-19",
  is_active: true,
  note: "Standard office supplies",
  info: { total_amount: 5000.00, location_id: "loc-123" },
  dimension: null,
  doc_version: "1.0",
  created_by_id: "user123"
});

// ดูใบรับสินค้าตาม vendor
const vendorGrns = getGoodReceivedNotesByVendor("vendor-123");

// อัปเดตสถานะ
updateGoodReceivedNoteStatus("grn-123", "submitted");

// ค้นหาใบรับสินค้าที่มี note
const grnsWithNote = searchGoodReceivedNotes({ has_note: true });
```

### การใช้งาน Inventory Transaction

```typescript
import { 
  createInventoryTransaction,
  getInventoryTransactionsByType,
  updateInventoryTransactionNote,
  searchInventoryTransactions
} from './mockdata';

// สร้างธุรกรรมสินค้าคงคลังใหม่
const newTransaction = createInventoryTransaction({
  inventory_doc_type: "grn",
  inventory_doc_no: "GRN-2024-007",
  note: "New stock received",
  info: { 
    transaction_type: "in", 
    product_id: "prod-123", 
    location_id: "loc-123", 
    quantity: 50, 
    unit_price: 100.00 
  },
  dimension: null,
  created_by_id: "user123"
});

// ดูธุรกรรมตามประเภท
const inTransactions = getInventoryTransactionsByType("in");

// อัปเดต note
updateInventoryTransactionNote("trans-123", "Updated transaction note");

// ค้นหาธุรกรรมที่มี note
const transactionsWithNote = searchInventoryTransactions({ has_note: true });
```

## การใช้งาน Advanced Search

```typescript
import { 
  searchExchangeRates,
  searchExtraCosts,
  searchGoodReceivedNotes,
  searchInventoryTransactions
} from './mockdata';

// ค้นหาอัตราแลกเปลี่ยนแบบ advanced
const rateResults = searchExchangeRates({
  currency_code: "USD",
  min_rate: 35,
  max_rate: 36,
  has_note: true
});

// ค้นหาต้นทุนเพิ่มเติมแบบ advanced
const costResults = searchExtraCosts({
  allocate_extra_cost_type: "by_value",
  has_note: true,
  doc_version: "1.0"
});

// ค้นหาใบรับสินค้าแบบ advanced
const grnResults = searchGoodReceivedNotes({
  doc_status: "completed",
  doc_type: "purchase",
  has_note: true,
  is_active: true
});

// ค้นหาธุรกรรมสินค้าคงคลังแบบ advanced
const transactionResults = searchInventoryTransactions({
  inventory_doc_type: "grn",
  has_note: true,
  has_info: true
});
```

### การใช้งาน Journal Voucher

```typescript
import { 
  createJvHeader,
  createJvDetail,
  getJvHeadersByStatus,
  getJvDetailsByHeaderId,
  calculateHeaderTotalDebit,
  isHeaderBalanced
} from './mockdata';

// สร้าง Journal Voucher Header ใหม่
const newJvHeader = createJvHeader({
  currency_id: "currency-123",
  currency_name: "THB",
  exchange_rate: "1.00",
  base_currency_id: "currency-123",
  base_currency_name: "THB",
  jv_type: "General",
  jv_no: "JV-2024-004",
  jv_date: "2024-01-20",
  description: "Monthly expense allocation",
  note: "Regular monthly journal entry",
  jv_status: "draft",
  workflow_id: "workflow-123",
  workflow_name: "JV Approval Workflow",
  workflow_history: [],
  workflow_current_stage: "Draft",
  workflow_previous_stage: "Draft",
  workflow_next_stage: "Review",
  user_action: { current_user: "user123", available_actions: ["edit", "submit"] },
  last_action: "submit",
  last_action_at_date: "2024-01-20T10:00:00Z",
  last_action_by_id: "user123",
  last_action_by_name: "John Doe",
  info: { total_debit: 0, total_credit: 0 },
  dimension: null,
  doc_version: "1.0",
  created_by_id: "user123"
});

// สร้าง Journal Voucher Detail
const newJvDetail = createJvDetail({
  jv_header_id: newJvHeader.id,
  account_code: "1101",
  account_name: "Cash in Bank",
  sequence_no: 1,
  currency_id: "currency-123",
  currency_name: "THB",
  exchange_rate: "1.00",
  debit: "50000.00",
  credit: "0.00",
  base_currency_id: "currency-123",
  base_currency_name: "THB",
  base_debit: "50000.00",
  base_credit: "0.00",
  description: "Cash received",
  note: "Payment for invoice",
  info: { transaction_type: "Receipt" },
  dimension: null,
  doc_version: "1.0",
  created_by_id: "user123"
});

// ดู JV Headers ตามสถานะ
const draftJvs = getJvHeadersByStatus("draft");

// ดู JV Details ของ header
const jvDetails = getJvDetailsByHeaderId(newJvHeader.id);

// คำนวณยอดรวม
const totalDebit = calculateHeaderTotalDebit(newJvHeader.id);
const isBalanced = isHeaderBalanced(newJvHeader.id);
```

### การใช้งาน Pricelist

```typescript
import { 
  createPricelist,
  createPricelistDetail,
  getPricelistsByCurrency,
  getPricelistDetailsByPricelistId,
  calculatePricelistTotal,
  calculatePricelistTotalVat
} from './mockdata';

// สร้าง Pricelist ใหม่
const newPricelist = createPricelist({
  pricelist_no: "PL-005",
  name: "Special Promotion",
  vendor_id: "vendor-123",
  vendor_name: "Promo Supplier",
  from_date: "2024-02-01",
  to_date: "2024-02-29",
  is_active: true,
  description: "February promotion pricing",
  note: "Limited time offer",
  info: { effective_date: "2024-02-01", expiry_date: "2024-02-29" },
  dimension: { department: "Sales", region: "All" },
  doc_version: "1.0",
  currency_id: "currency-123",
  currency_name: "THB",
  url_token: "feb-promo-2024",
  created_by_id: "user123"
});

// สร้าง Pricelist Detail
const newPricelistDetail = createPricelistDetail({
  pricelist_id: newPricelist.id,
  sequence_no: 1,
  product_id: "product-123",
  product_name: "Special Product",
  unit_id: "unit-123",
  unit_name: "ชิ้น",
  tax_profile_id: "tax-123",
  tax_profile_name: "VAT 7%",
  tax_rate: "7",
  price: "35000",
  price_without_vat: "32710.28",
  price_with_vat: "35000",
  is_active: true,
  description: "Special promotional price",
  note: "Limited time offer",
  info: { category: "Electronics", discount: "22.22%" },
  dimension: { department: "Sales", region: "All" },
  doc_version: "1.0",
  created_by_id: "user123"
});

// ดู Pricelists ตามสกุลเงิน
const thbPricelists = getPricelistsByCurrency("currency-123");

// ดู Pricelist Details
const pricelistDetails = getPricelistDetailsByPricelistId(newPricelist.id);

// คำนวณยอดรวม
const totalPrice = calculatePricelistTotal(newPricelist.id);
const totalVat = calculatePricelistTotalVat(newPricelist.id);
```

### การใช้งาน Pricelist Template

```typescript
import { 
  createPricelistTemplate,
  createPricelistTemplateDetail,
  getActivePricelistTemplates,
  getPricelistTemplateDetailsByTemplateId,
  activatePricelistTemplate
} from './mockdata';

// สร้าง Pricelist Template ใหม่
const newTemplate = createPricelistTemplate({
  name: "Holiday Season Template",
  description: "Template for holiday season pricing",
  note: "Base template for seasonal pricing",
  status: "draft",
  info: { category: "Seasonal", type: "Holiday" },
  dimension: { department: "Sales", region: "All" },
  doc_version: "1.0",
  created_by_id: "user123"
});

// สร้าง Pricelist Template Detail
const newTemplateDetail = createPricelistTemplateDetail({
  pricelist_template_id: newTemplate.id,
  sequence_no: 1,
  product_id: "product-123",
  product_name: "Holiday Product",
  array_order_unit: { unit_id: "unit-123", unit_name: "ชิ้น" },
  info: { category: "Seasonal", brand: "Holiday Brand", base_price: "50000" },
  dimension: { department: "Sales", region: "All" },
  doc_version: "1.0",
  created_by_id: "user123"
});

// ดู Templates ที่ active
const activeTemplates = getActivePricelistTemplates();

// ดู Template Details
const templateDetails = getPricelistTemplateDetailsByTemplateId(newTemplate.id);

// เปิดใช้งาน Template
activatePricelistTemplate(newTemplate.id);
```

### การใช้งาน Product Management

```typescript
import { 
  getAllProducts, 
  createProduct, 
  getProductsByCategory,
  updateProductStatus 
} from './mockdata';

// สร้างสินค้าใหม่
const newProduct = createProduct({
  name: "Premium Beef Tenderloin",
  description: "High-quality beef tenderloin",
  category_id: "cat123",
  unit_id: "unit123",
  is_active: true,
  note: "Premium grade beef",
  info: { grade: "Premium", origin: "Local" },
  dimension: { department: "Sales", region: "Central" },
  created_by_id: "user123"
});

// ดึงสินค้าตามหมวดหมู่
const beefProducts = getProductsByCategory("cat123");

// อัปเดตสถานะสินค้า
updateProductStatus(newProduct.id, false);
```

### การใช้งาน Product Category

```typescript
import { 
  getAllProductCategories, 
  createProductCategory, 
  getProductCategoriesByParent,
  updateProductCategoryActiveStatus 
} from './mockdata';

// สร้างหมวดหมู่สินค้าใหม่
const newCategory = createProductCategory({
  name: "Fresh Meat",
  description: "Fresh meat products",
  parent_id: null,
  price_deviation_limit: "15.00",
  qty_deviation_limit: "10.00",
  is_used_in_recipe: true,
  is_sold_directly: true,
  is_active: true,
  note: "Fresh meat category",
  info: { type: "Perishable", storage: "Cold" },
  dimension: { department: "Sales", region: "All" },
  created_by_id: "user123"
});

// ดึงหมวดหมู่ย่อย
const subCategories = getProductCategoriesByParent(newCategory.id);

// อัปเดตสถานะ
updateProductCategoryActiveStatus(newCategory.id, false);
```

### การใช้งาน Product Location

```typescript
import { 
  getAllProductLocations, 
  createProductLocation, 
  getProductLocationsByProduct,
  updateProductLocationQtyLevels 
} from './mockdata';

// สร้างตำแหน่งสินค้าใหม่
const newLocation = createProductLocation({
  product_id: "prod123",
  product_name: "Beef Tenderloin",
  location_id: "loc123",
  location_name: "Main Warehouse",
  min_qty: "10.00",
  max_qty: "100.00",
  re_order_qty: "20.00",
  par_qty: "45.00",
  note: "Main storage location",
  info: { zone: "A1", shelf: "S1" },
  dimension: { department: "Warehouse", region: "Central" },
  created_by_id: "user123"
});

// ดึงตำแหน่งสินค้าตามสินค้า
const productLocations = getProductLocationsByProduct("prod123");

// อัปเดตระดับปริมาณ
updateProductLocationQtyLevels(newLocation.id, "15.00", "150.00", "25.00");
```

### การใช้งาน Product Vendor

```typescript
import { 
  getAllProductVendors, 
  createProductVendor, 
  getProductVendorsByProduct,
  updateProductVendorActiveStatus 
} from './mockdata';

// สร้างผู้จัดจำหน่ายสินค้าใหม่
const newVendor = createProductVendor({
  product_id: "prod123",
  product_name: "Beef Tenderloin",
  vendor_id: "vendor123",
  vendor_product_code: "BT001",
  vendor_product_name: "Premium Beef Tenderloin",
  description: "High-quality beef from vendor",
  is_active: true,
  note: "Preferred supplier",
  info: { grade: "Premium", origin: "Local" },
  dimension: { department: "Purchasing", region: "Central" },
  created_by_id: "user123"
});

// ดึงผู้จัดจำหน่ายตามสินค้า
const productVendors = getProductVendorsByProduct("prod123");

// อัปเดตสถานะ
updateProductVendorActiveStatus(newVendor.id, false);
```

### การใช้งาน Purchase Order Management

```typescript
import { 
  getAllPurchaseOrders, 
  createPurchaseOrder, 
  getPurchaseOrdersByStatus,
  updatePurchaseOrderStatus 
} from './mockdata';

// สร้างใบสั่งซื้อใหม่
const newPurchaseOrder = createPurchaseOrder({
  po_no: "PO-2024-001",
  po_status: "draft",
  description: "IT Equipment Purchase",
  delivery_date: "2024-02-15",
  workflow_id: "wf-001",
  vendor_id: "vendor123",
  vendor_name: "ABC Technology",
  currency_id: "curr-001",
  currency_name: "Thai Baht",
  exchange_rate: 1.0,
  approval_date: null,
  email: "purchase@company.com",
  buyer_id: "user123",
  buyer_name: "John Doe",
  credit_term_id: "ct-001",
  credit_term_name: "Net 30",
  credit_term_value: 30,
  remarks: "Urgent purchase for new office",
  history: "Created by John Doe",
  is_active: true,
  note: "High priority order",
  info: { category: "IT", priority: "high" },
  dimension: { cost_center: "IT-001", project: "Office Setup" },
  doc_version: "1",
  created_by_id: "user123"
});

// ดึงใบสั่งซื้อตามสถานะ
const draftOrders = getPurchaseOrdersByStatus("draft");

// อัปเดตสถานะ
updatePurchaseOrderStatus(newPurchaseOrder.id, "approved");
```

### การใช้งาน Purchase Request System

```typescript
import { 
  getAllPurchaseRequests, 
  createPurchaseRequest, 
  getPurchaseRequestsByStatus,
  updatePurchaseRequestStatus 
} from './mockdata';

// สร้างใบขอซื้อใหม่
const newPurchaseRequest = createPurchaseRequest({
  pr_no: "PR-2024-001",
  pr_date: "2024-01-15",
  description: "Office Supplies Request",
  workflow_id: "wf-001",
  last_action: "submit",
  last_action_at_date: "2024-01-15",
  last_action_by_id: "user123",
  last_action_by_name: "Jane Smith",
  pr_status: "draft",
  requestor_id: "user123",
  requestor_name: "Jane Smith",
  department_id: "dept-001",
  department_name: "Administration",
  note: "Monthly office supplies",
  info: { category: "Office", priority: "medium" },
  dimension: { cost_center: "ADMIN-001", project: "Monthly Supplies" },
  doc_version: "1",
  created_by_id: "user123"
});

// ดึงใบขอซื้อตามสถานะ
const draftRequests = getPurchaseRequestsByStatus("draft");

// อัปเดตสถานะ
updatePurchaseRequestStatus(newPurchaseRequest.id, "in_progress");
```

### การใช้งาน Request for Pricing

```typescript
import { 
  getAllRequestForPricings, 
  createRequestForPricing, 
  getActiveRequestForPricings,
  updateRequestForPricingDates 
} from './mockdata';

// สร้างใบขอราคาใหม่
const newRfp = createRequestForPricing({
  pricelist_template_id: "plt-001",
  start_date: "2024-01-01T00:00:00Z",
  end_date: "2024-12-31T23:59:59Z",
  info: {
    category: "IT Equipment",
    priority: "high",
    vendor_count: 5,
    evaluation_criteria: ["price", "quality", "delivery"]
  },
  dimension: {
    cost_center: "IT-001",
    project_code: "IT-2024",
    budget: 1000000
  },
  doc_version: "1",
  created_by_id: "user123"
});

// ดึงใบขอราคาที่ active
const activeRfps = getActiveRequestForPricings();

// อัปเดตวันที่
updateRequestForPricingDates(newRfp.id, "2024-02-01T00:00:00Z", "2024-11-30T23:59:59Z");
```

### การใช้งาน Stock Management System

```typescript
import { 
  getAllStockIns, 
  createStockIn, 
  getStockInsByStatus,
  updateStockInStatus,
  getAllStockOuts,
  createStockOut,
  getStockOutsByStatus
} from './mockdata';

// สร้างการรับสินค้าเข้าใหม่
const newStockIn = createStockIn({
  si_no: "SI-2024-004",
  description: "New IT Equipment Stock In",
  doc_status: "draft",
  workflow_id: "wf-001",
  workflow_name: "Stock In Approval",
  workflow_history: [],
  workflow_current_stage: "draft",
  workflow_previous_stage: "",
  workflow_next_stage: "submitted",
  user_action: { can_edit: true, can_delete: true, can_approve: false },
  last_action: "submit",
  last_action_at_date: "2024-01-30T10:00:00Z",
  last_action_by_id: "user-001",
  last_action_by_name: "IT Staff",
  note: "New laptops and monitors",
  info: { category: "IT", priority: "high", supplier: "ABC Tech" },
  dimension: { cost_center: "IT-001", project: "Q1 Equipment" },
  doc_version: "1"
});

// สร้างการจ่ายสินค้าออกใหม่
const newStockOut = createStockOut({
  so_no: "SO-2024-004",
  description: "IT Equipment Distribution",
  doc_status: "draft",
  workflow_id: "wf-002",
  workflow_name: "Stock Out Approval",
  workflow_history: [],
  workflow_current_stage: "draft",
  workflow_previous_stage: "",
  workflow_next_stage: "submitted",
  user_action: { can_edit: true, can_delete: true, can_approve: false },
  last_action: "submit",
  last_action_at_date: "2024-01-30T11:00:00Z",
  last_action_by_id: "user-001",
  last_action_by_name: "IT Staff",
  note: "Distribute to new employees",
  info: { category: "IT", priority: "high", department: "IT Department" },
  dimension: { cost_center: "IT-001", project: "New Hire Setup" },
  doc_version: "1"
});

// ดึงการรับสินค้าเข้าตามสถานะ
const draftStockIns = getStockInsByStatus("draft");

// ดึงการจ่ายสินค้าออกตามสถานะ
const approvedStockOuts = getStockOutsByStatus("approved");

// อัปเดตสถานะการรับสินค้าเข้า
updateStockInStatus(newStockIn.id, "submitted");
```

### การใช้งาน Stock Take Management

```typescript
import { 
  getAllStockTakes, 
  createStockTake, 
  getStockTakesByStatus,
  updateStockTakeStatus,
  getAllStockTakeDetails,
  createStockTakeDetail
} from './mockdata';

// สร้างการนับสต็อกใหม่
const newStockTake = createStockTake({
  name: "Q1 2024 IT Equipment Stock Take",
  stk_no: "STK-2024-004",
  description: "Quarterly stock take for IT equipment",
  doc_status: "draft",
  workflow_id: "wf-003",
  workflow_name: "Stock Take Approval",
  workflow_history: [],
  workflow_current_stage: "draft",
  workflow_previous_stage: "",
  workflow_next_stage: "submitted",
  user_action: { can_edit: true, can_delete: true, can_approve: false },
  last_action: "submit",
  last_action_at_date: "2024-01-30T12:00:00Z",
  last_action_by_id: "user-001",
  last_action_by_name: "IT Staff",
  note: "Count all IT equipment in storage",
  info: { category: "IT Equipment", priority: "medium", location: "IT Storage" },
  dimension: { cost_center: "IT-001", project: "Q1 Stock Take" },
  doc_version: "1"
});

// สร้างรายละเอียดการนับสต็อก
const newStockTakeDetail = createStockTakeDetail({
  inventory_transaction_id: "inv-007",
  stock_take_id: newStockTake.id,
  sequence_no: 1,
  description: "Laptop Stock Take",
  to_location_id: "loc-it-001",
  to_location_name: "IT Storage Room",
  product_id: "prod-laptop-001",
  product_name: "Dell XPS 13 Laptop",
  product_local_name: "แล็ปท็อป Dell XPS 13",
  requested_qty: "5.00",
  approved_qty: "5.00",
  issued_qty: "5.00",
  history: [],
  last_action: "submit",
  approved_message: null,
  approved_by_id: null,
  approved_by_name: null,
  approved_date_at: null,
  review_message: null,
  review_by_id: null,
  review_by_name: null,
  review_date_at: null,
  reject_message: null,
  reject_by_id: null,
  reject_by_name: null,
  reject_date_at: null,
  info: { counted_by: "IT Staff", verification: "Pending" },
  dimension: { cost_center: "IT-001", project: "Q1 Stock Take" },
  doc_version: "1"
});

// ดึงการนับสต็อกตามสถานะ
const draftStockTakes = getStockTakesByStatus("draft");

// อัปเดตสถานะการนับสต็อก
updateStockTakeStatus(newStockTake.id, "submitted");
```

### การใช้งาน Store Requisition System

```typescript
import { 
  getAllStoreRequisitions, 
  createStoreRequisition, 
  getStoreRequisitionsByStatus,
  updateStoreRequisitionStatus,
  getAllStoreRequisitionDetails,
  createStoreRequisitionDetail
} from './mockdata';

// สร้างใบขอเบิกสินค้าใหม่
const newStoreRequisition = createStoreRequisition({
  sr_no: "SR-2024-004",
  sr_date: "2024-01-30",
  expected_date: "2024-02-05",
  description: "Office Supplies Request",
  doc_status: "draft",
  from_location_id: "loc-office-001",
  from_location_name: "Office Storage",
  workflow_id: "wf-004",
  workflow_name: "Store Requisition Approval",
  workflow_history: [],
  workflow_current_stage: "draft",
  workflow_previous_stage: "",
  workflow_next_stage: "submitted",
  user_action: { can_edit: true, can_delete: true, can_approve: false },
  last_action: "submit",
  last_action_at_date: "2024-01-30T13:00:00Z",
  last_action_by_id: "user-004",
  last_action_by_name: "Admin Staff",
  requestor_id: "user-004",
  requestor_name: "Admin Staff",
  department_id: "dept-admin",
  department_name: "Administration Department",
  note: "Monthly office supplies request",
  info: { category: "Office Supplies", priority: "medium" },
  dimension: { cost_center: "ADMIN-001", project: "Monthly Supplies" },
  doc_version: "1"
});

// สร้างรายละเอียดใบขอเบิกสินค้า
const newStoreRequisitionDetail = createStoreRequisitionDetail({
  inventory_transaction_id: "inv-009",
  store_requisition_id: newStoreRequisition.id,
  sequence_no: 1,
  description: "Paper and Pens Request",
  to_location_id: "loc-office-001",
  to_location_name: "Office Storage",
  product_id: "prod-paper-001",
  product_name: "A4 Paper",
  product_local_name: "กระดาษ A4",
  requested_qty: "10.00",
  approved_qty: "0.00",
  issued_qty: "0.00",
  history: [],
  last_action: "submit",
  approved_message: null,
  approved_by_id: null,
  approved_by_name: null,
  approved_date_at: null,
  review_message: null,
  review_by_id: null,
  review_by_name: null,
  review_date_at: null,
  reject_message: null,
  reject_by_id: null,
  reject_by_name: null,
  reject_date_at: null,
  info: { category: "Office Supplies", priority: "medium" },
  dimension: { cost_center: "ADMIN-001", project: "Monthly Supplies" },
  doc_version: "1"
});

// ดึงใบขอเบิกสินค้าตามสถานะ
const draftStoreRequisitions = getStoreRequisitionsByStatus("draft");

// อัปเดตสถานะใบขอเบิกสินค้า
updateStoreRequisitionStatus(newStoreRequisition.id, "submitted");
```

### การใช้งาน Unit Management System

```typescript
import { 
  getAllUnits, 
  createUnit, 
  getAllUnitComments,
  createUnitComment,
  getAllUnitConversions,
  createUnitConversion
} from './mockdata';

// สร้างหน่วยนับใหม่
const newUnit = createUnit({
  code: "BOX",
  name: "Box",
  local_name: "กล่อง",
  description: "Standard packaging box",
  is_active: true,
  note: "Used for packaging products",
  info: { category: "packaging", weight_capacity: "10kg" },
  dimension: { type: "container", size: "medium" }
});

// เพิ่มความคิดเห็นเกี่ยวกับหน่วยนับ
const unitComment = createUnitComment({
  type: "unit",
  user_id: "user-001",
  user_name: "John Doe",
  message: "This unit is perfect for small items",
  attachments: null,
  info: { category: "feedback", priority: "low" },
  note: "User feedback on unit usage"
});

// สร้างการแปลงหน่วยนับ
const unitConversion = createUnitConversion({
  from_unit_id: "unit-001",
  from_unit_name: "Piece",
  to_unit_id: newUnit.id,
  to_unit_name: "Box",
  conversion_factor: "12.00",
  description: "12 pieces per box",
  is_active: true,
  note: "Standard conversion for packaging",
  info: { category: "packaging", verified: true },
  dimension: { product_category: "electronics", region: "all" }
});
```

### การใช้งาน Vendor Management System

```typescript
import { 
  getAllVendors, 
  createVendor, 
  getAllVendorAddresses,
  createVendorAddress,
  getAllVendorContacts,
  createVendorContact,
  getAllVendorBusinessTypes,
  createVendorBusinessType
} from './mockdata';

// สร้างผู้จัดจำหน่ายใหม่
const newVendor = createVendor({
  vendor_code: "V-2024-005",
  vendor_name: "Tech Solutions Ltd.",
  vendor_local_name: "เทค โซลูชั่น จำกัด",
  vendor_type: "supplier",
  vendor_business_type_id: "vbt-001",
  vendor_business_type_name: "Technology",
  tax_id: "0123456789012",
  is_active: true,
  description: "IT equipment supplier",
  note: "Reliable technology vendor",
  info: { rating: 5, years_in_business: 10 },
  dimension: { region: "Bangkok", category: "Technology" }
});

// เพิ่มที่อยู่ผู้จัดจำหน่าย
const vendorAddress = createVendorAddress({
  vendor_id: newVendor.id,
  address_type: "billing",
  data: {
    street: "456 Technology Street",
    city: "Bangkok",
    state: "Bangkok",
    postal_code: "10500",
    country: "Thailand",
    phone: "+66-2-456-7890",
    email: "billing@techsolutions.com"
  },
  is_active: true,
  description: "Main billing address",
  note: "Primary billing location",
  info: { priority: "high", contact_person: "Jane Smith" },
  dimension: { region: "Central", zone: "Bangkok" }
});

// เพิ่มข้อมูลติดต่อ
const vendorContact = createVendorContact({
  vendor_id: newVendor.id,
  contact_type: "email",
  is_active: true,
  description: "Sales contact email",
  note: "Primary sales contact",
  info: { priority: "high", department: "Sales" },
  dimension: { department: "Sales", region: "Bangkok" }
});
```

### การใช้งาน User Profile & Location System

```typescript
import { 
  getAllUserProfiles, 
  createUserProfile, 
  getAllUserLocations,
  createUserLocation
} from './mockdata';

// สร้างโปรไฟล์ผู้ใช้ใหม่
const newUserProfile = createUserProfile({
  user_id: "user-005",
  firstname: "Alice",
  middlename: "Marie",
  lastname: "Johnson",
  bio: { 
    position: "Senior Developer",
    department: "IT",
    skills: ["JavaScript", "TypeScript", "React"]
  }
});

// เพิ่มสถานที่ของผู้ใช้
const userLocation = createUserLocation({
  user_id: "user-005",
  location_id: "loc-bangkok-001",
  location_name: "Bangkok Office",
  is_active: true,
  description: "Primary work location",
  note: "Main office assignment",
  info: { floor: 15, building: "Tower A" },
  dimension: { region: "Central", zone: "Bangkok" }
});
```

### การใช้งาน Workflow Management System

```typescript
import { 
  getAllWorkflows, 
  createWorkflow, 
  getWorkflowsByType,
  updateWorkflowStatus
} from './mockdata';

// สร้างเวิร์กโฟลว์ใหม่
const newWorkflow = createWorkflow({
  name: "Purchase Request Approval",
  workflow_type: "approval",
  data: { 
    stages: ['draft', 'submitted', 'reviewed', 'approved', 'completed'],
    approvers: ['manager', 'finance', 'ceo'],
    conditions: { amount_limit: 100000 }
  },
  is_active: true,
  description: "Standard purchase request approval workflow",
  note: "Multi-level approval process",
  info: { version: "2.0", category: "procurement" },
  dimension: { department: "Procurement", region: "All" }
});

// ดึงเวิร์กโฟลว์ตามประเภท
const approvalWorkflows = getWorkflowsByType("approval");

// อัปเดตสถานะเวิร์กโฟลว์
updateWorkflowStatus(newWorkflow.id, false); // deactivate
```

---

## สรุป

ระบบ CRUD Operations ได้รับการพัฒนาครบถ้วนสำหรับทุกตารางในระบบ รองรับฟีเจอร์ครบครันตั้งแต่การจัดการข้อมูลพื้นฐานไปจนถึงฟีเจอร์ขั้นสูงเช่น:

- **Workflow Management** - การจัดการเวิร์กโฟลว์และการอนุมัติ
- **Sequence Tracking** - การติดตามลำดับในเอกสาร
- **Unit Conversion** - การแปลงหน่วยนับ
- **Vendor Management** - การจัดการผู้จัดจำหน่ายแบบครบวงจร
- **Stock Management** - การจัดการสินค้าคงคลัง
- **User Profile & Location** - การจัดการข้อมูลผู้ใช้และสถานที่
- **Calculation Functions** - ฟังก์ชันคำนวณต่างๆ

## หมายเหตุ

- ทุกฟังก์ชันรองรับ TypeScript
- ข้อมูลถูกเก็บใน memory (เหมาะสำหรับ development และ testing)
- มีฟังก์ชัน utility สำหรับการจัดการข้อมูล
- รองรับการทำงานแบบ bulk operations
- มีฟังก์ชัน restore สำหรับข้อมูลที่ถูกลบ
- รองรับ soft delete และ hard delete
- มีฟีเจอร์ advanced search และ filtering
- ครอบคลุมทุกตารางในระบบ (9 Batches รวม 79 ตาราง)
